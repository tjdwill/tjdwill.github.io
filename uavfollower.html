<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Lynxbot: A Color-controlled 3DoF Robot Manipulator" href="lynxbot.html" /><link rel="prev" title="Terrance Williams’ Portfolio" href="index.html" />

    <!-- Generated with Sphinx 7.3.7 and Furo 2024.04.27 -->
        <title>UAVFollower: Master’s Thesis - My Portfolio documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=437aa6ec" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">My Portfolio  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">My Portfolio  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">UAVFollower: Master’s Thesis</a></li>
<li class="toctree-l1"><a class="reference internal" href="lynxbot.html">Lynxbot: A Color-controlled 3DoF Robot Manipulator</a></li>
<li class="toctree-l1"><a class="reference internal" href="baseball.html">UAVBaseball: Simulating Baseball Pathing with the CoDrone EDU</a></li>
<li class="toctree-l1"><a class="reference internal" href="tennis.html">Tennis Ball Detector</a></li>
<li class="toctree-l1"><a class="reference internal" href="jethexa.html">Autonomous Vehicles: Investigating Hiwonder’s JetHexa</a></li>
<li class="toctree-l1"><a class="reference internal" href="public_engagements.html">Public Engagements</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="uavfollower-master-s-thesis">
<h1>UAVFollower: Master’s Thesis<a class="headerlink" href="#uavfollower-master-s-thesis" title="Link to this heading">¶</a></h1>
<img alt="_images/fullrun.png" class="align-center" src="_images/fullrun.png" />
<p><strong>Video</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://youtu.be/kWP6myr0hYk">Showcase</a> (Volume warning)</p></li>
</ul>
</div></blockquote>
<p><strong>Thesis</strong>: <a class="reference external" href="https://ircommons.uwf.edu/esploro/outputs/graduate/Leader-Follower-Based-Collaborative-Navigation-Of-A-UGV-UAV/99380551696906600">on Argo Scholar Commons</a></p>
<p><strong>Code</strong>: View the code repository <a class="reference external" href="https://github.com/tjdwill/UAVFollower">on GitHub</a>.</p>
<p><strong>Robot(s) Used</strong>:</p>
<ul class="simple">
<li><p>JetHexa (Hiwonder)</p></li>
<li><p>CoDrone EDU (Robolink)</p></li>
</ul>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading">¶</a></h2>
<p>This was the subject of my Master’s Thesis, <a class="reference external" href="https://ircommons.uwf.edu/esploro/outputs/graduate/Leader-Follower-Based-Collaborative-Navigation-Of-A-UGV-UAV/99380551696906600">Leader-Follower-based Collaborative Navigation of a UGV-UAV Formation</a>. The purpose of this project was to develop a UAV-following behavior for an Unmanned Ground Vehicle (UGV), creating a collaborative pair in which an unmanned aerial vehicle can lead an unmanned ground vehicle and compensate for the UGV’s poor ground-level field-of-view. To keep the project flexible, this was to be done by constraining the platforms to total isolation; there was no communication between the UGV and UAV. This was by far the most ambitious project I’ve undertaken in robotics, and I learned/improved a great deal in the process, including:</p>
<ul class="simple">
<li><p>Machine learning object detection (YOLO)</p></li>
<li><p>Fiducial markers</p></li>
<li><p>Scripting</p></li>
<li><p>Data organization and processing (esp. the use of ROS bags)</p></li>
<li><p>Iterative, long-term refinement</p></li>
<li><p>Improved System Design</p></li>
</ul>
<section id="object-detection">
<h3>Object Detection<a class="headerlink" href="#object-detection" title="Link to this heading">¶</a></h3>
<p>The project began with detecting the UAV itself. Ultimately, I used an object detection model, training a YOLOv5 <a class="footnote-reference brackets" href="#yolo" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> model with a combined data set of custom images and <a class="reference external" href="https://www.kaggle.com/datasets/dasmehdixtr/drone-dataset-uav/data">publicly-available images</a> totaling 1,492 images. The combined data set yielded great results, being able to detect multiple quadrotor UAVs at high confidence intervals (&gt;= 0.80).</p>
<figure class="align-center" id="id4">
<img alt="_images/multidetect.png" src="_images/multidetect.png" />
<figcaption>
<p><span class="caption-text">Multiple detections using the YOLO model.</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>To filter the detections, I used the technique developed in the <a class="reference internal" href="tennis.html"><span class="doc">TennisBallDetector project</span></a>. I refined the k-means clustering program <a class="footnote-reference brackets" href="#kmeans-repo" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> and used it to process the generated detection data. Though the bounding box data could not be visualized, I’ve provided an example below of the clustering process using fiducial marker detections:</p>
<figure class="align-center" id="id5">
<img alt="_images/kmeans00.png" src="_images/kmeans00.png" />
<figcaption>
<p><span class="caption-text">Example of k-means clustering parameter selection.</span><a class="headerlink" href="#id5" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="ros-package">
<h3>ROS Package<a class="headerlink" href="#ros-package" title="Link to this heading">¶</a></h3>
<p>Next, I implemented the ROS packages for the project <a class="footnote-reference brackets" href="#code" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>. There were two in total. One, <em>rosnp_msgs</em>, was a small message-definition library that enabled the transmission of Numpy arrays across the ROS network. This library was also critical in bridging the software compatibility issue introduced by the ROS version used in the JetHexa. ROS Melodic officially supports Python 2, but the machine learning library (and therefore majority of the project) uses Python 3, rendering some transmission packages unavailable. <em>rosnp_msgs</em> ameliorated this issue.</p>
<p>The second package, <em>uav_follower</em>, implemented the following behavior. There were multiple subsystems:</p>
<ol class="arabic simple" start="0">
<li><p>Liaison/Coordinator - Facilitated the other subsystems’ operations; Program synchronization.</p></li>
<li><p>Photographer - captured images from JetHexa’s camera</p></li>
<li><p>Detector - Detected UAVs in aforementioned images; displayed live video feed.</p></li>
<li><p>DataProcessor - From detections, calculated the required navigation waypoint in the map frame</p></li>
<li><p>CurrentPosition - Retrieved current robot position.</p></li>
</ol>
<p>Here is a basic communication diagram displaying the data flow of the entire system:</p>
<figure class="align-center" id="id6">
<img alt="_images/uav_follower_DataFlow.png" src="_images/uav_follower_DataFlow.png" />
<figcaption>
<p><span class="caption-text">Inter-subsystem data flow</span><a class="headerlink" href="#id6" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="results">
<h3>Results<a class="headerlink" href="#results" title="Link to this heading">¶</a></h3>
<p>Below are the results for the experiments. Overall the hexapod was able to follow the UAV over time, but there were consistent over-estimates in the UAV position, leading to following a bit too closely (~18cm instead of 30cm). Also, as the drone operates, its servos heat and its flight becomes more unstable, leading to higher estimation errors as time proceeds.</p>
<div class="table-wrapper borderless docutils container" id="id7">
<table class="borderless docutils align-default" id="id7">
<caption><span class="caption-text">Experiment Results</span><a class="headerlink" href="#id7" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><img alt="_images/exp03_x_pos.png" src="_images/exp03_x_pos.png" />
</td>
<td><img alt="_images/est_x_err.png" src="_images/est_x_err.png" />
</td>
</tr>
<tr class="row-even"><td><img alt="_images/exp03_y_pos.png" src="_images/exp03_y_pos.png" />
</td>
<td><img alt="_images/est_y_err.png" src="_images/est_y_err.png" />
</td>
</tr>
</tbody>
</table>
</div>
<a class="reference internal image-reference" href="_images/follow_dist_plot.png"><img alt="_images/follow_dist_plot.png" class="align-center" src="_images/follow_dist_plot.png" style="width: 62.5%;" /></a>
</section>
</section>
<section id="reflection">
<h2>Reflection<a class="headerlink" href="#reflection" title="Link to this heading">¶</a></h2>
<p>I am pleased and thankful to The Most High that this project was a success.</p>
<p>One habit I’ve picked up in both this project, as well as the <a class="reference internal" href="tennis.html"><span class="doc">Tennis Ball Detector</span></a> and <a class="reference internal" href="baseball.html"><span class="doc">UAVBaseball</span></a> is the use of text file project journals. This practice was incredibly useful for tracking my thinking over time as well as organizing my thoughts mid-design. The journal notes were an incredible aid during thesis writing.</p>
<p>One moment I’m most proud of that I couldn’t discuss in the thesis due to lack of relevance is that I was able to identify and rectify the source of a 14 second display lag in the video stream, reducing it down to ~2 seconds. Among others, this was a great victory that kept the project viable.
I grew a lot as a roboticist, writer, programmer, and project manager in the course of this thesis, and I look forward to further progress in the future.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="yolo" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>YOLOv5 ships natively with the JetHexa platform, making it an easy choice.</p>
</aside>
<aside class="footnote brackets" id="code" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>Viewable in the <a class="reference external" href="https://github.com/tjdwill/UAVFollower">repo</a>.</p>
</aside>
<aside class="footnote brackets" id="kmeans-repo" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">3</a><span class="fn-bracket">]</span></span>
<p>Further refined and released as a <a class="reference external" href="https://github.com/tjdwill/kmeans">Python Package</a>.</p>
</aside>
</aside>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="lynxbot.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Lynxbot: A Color-controlled 3DoF Robot Manipulator</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Terrance Williams
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">UAVFollower: Master’s Thesis</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a><ul>
<li><a class="reference internal" href="#object-detection">Object Detection</a></li>
<li><a class="reference internal" href="#ros-package">ROS Package</a></li>
<li><a class="reference internal" href="#results">Results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reflection">Reflection</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=4e2eecee"></script>
    </body>
</html>